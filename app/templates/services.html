{% extends "base.html" %}

{% block content %}

<h2>Service Pricing Library</h2>

<!-- ===================== -->
<!-- ADD SERVICE SECTION  -->
<!-- ===================== -->

<div style="margin-bottom:30px; padding:20px; border:1px solid #ddd; border-radius:8px;">

    <h3 style="margin-top:0;">Add Service</h3>

    <form method="post" action="/services/create">

        <input type="text" name="name" placeholder="Service Name" required>

        <input type="text" name="description" placeholder="Description" required>

        <input type="number" step="0.01" name="price" placeholder="Price" required>

        <input type="text" name="category" placeholder="Category (e.g. Networking, Security)" required>

        <button type="submit"
                style="background:#1e3a8a; color:white; padding:6px 14px; border:none; border-radius:6px;">
            Add Service
        </button>

    </form>

</div>


<!-- ===================== -->
<!-- SERVICES TABLE       -->
<!-- ===================== -->

<table style="width:100%; border-collapse: collapse;">

    <tr style="background:#fdae54; color:rgb(19, 18, 18);">
        <th style="padding:10px; text-align:left;">Category</th>
        <th style="padding:10px; text-align:left;">Service</th>
        <th style="padding:10px; text-align:left;">Description</th>
        <th style="padding:10px; text-align:right;">Price (R)</th>
        <th style="padding:10px; text-align:center;">Actions</th>
    </tr>

    {% for service in services %}
    <tr style="border-bottom:1px solid #ddd;">
        <td style="padding:10px;">{{ service.category }}</td>
        <td style="padding:10px;">{{ service.name }}</td>
        <td style="padding:10px;">{{ service.description }}</td>
        <td style="padding:10px; text-align:right;">{{ "%.2f"|format(service.price) }}</td>
        <td style="padding:10px; text-align:center;">

            <a href="/services/{{ service.id }}/edit"
               style="background:#f59e0b; color:white; padding:4px 10px; border-radius:6px; text-decoration:none; font-size:13px;">
               Edit
            </a>

            <a href="/services/{{ service.id }}/delete"
               onclick="return confirm('Delete this service?')"
               style="background:#dc2626; color:white; padding:4px 10px; border-radius:6px; text-decoration:none; font-size:13px;">
               Delete
            </a>

        </td>
    </tr>
    {% endfor %}

</table>

{% endblock %}

